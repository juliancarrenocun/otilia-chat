<!doctype html>
<html lang="es" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Julia ‚Äì Asistente de Pr√°cticas CUN</title>

  <!-- META -->
  <meta name="description" content="Tu abuelita digital para resolver dudas sobre SGP, ARL, documentos y seguimiento de pr√°cticas en la CUN." />
  <meta name="theme-color" content="#111111" />

  <!-- Open Graph -->
  <meta property="og:title" content="Julia ‚Äì Asistente de Pr√°cticas CUN" />
  <meta property="og:description" content="Resuelve tus dudas de pr√°cticas: SGP, ARL, documentos, seguimiento y cierre." />
  <meta property="og:image" content="assets/web-app-manifest-512x512.png" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://juliancarrenocun.github.io/otilia-chat/" />

  <!-- Performance (chat) -->
  <link rel="preconnect" href="https://www.chatbase.co" crossorigin>

  <!-- Icons & PWA (los tuyos actuales) -->
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
  <link rel="icon" type="image/png" sizes="96x96" href="assets/favicon-96x96.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="assets/web-app-manifest-192x192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="assets/web-app-manifest-512x512.png" />
  <link rel="manifest" href="assets/site.webmanifest" />

  <!-- ESTILOS -->
  <style>
    :root{
      /* Paleta ‚Äúdivergente‚Äù */
      --bg:#0b0b0c;          /* fondo base */
      --ink:#111214;         /* texto oscuro */
      --paper:#ffffff;       /* tarjetas */
      --muted:#9aa3b2;       /* texto secundario */
      --orange:#ff7a00;      /* btn / acento */
      --orange-2:#ff9a1a;    /* hover/acento claro */
      --glow:#ff7a00;
      --card-br:#1f232b;
      --radius:16px;
      --shadow:0 10px 30px rgba(0,0,0,.24);
    }
    [data-theme="dark"]{
      --paper:#0f1114;
      --ink:#eaeef6;
      --muted:#b8c0cc;
      --card-br:#1b1f25;
    }

    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      background: var(--bg);
      color: var(--ink);
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
      line-height:1.5;
    }

    /* Header compacto con logo CUN sutil */
    .topbar{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:10px 20px; border-bottom:1px solid var(--card-br);
      background: linear-gradient(90deg,#0b0b0c 0%, #121316 100%);
    }
    .topbar .brand-mini{display:flex; align-items:center; gap:10px}
    .topbar img.logo-cun{width:28px; height:28px; border-radius:4px; opacity:.9}
    .mode-toggle{
      border:1px solid var(--card-br); background:#0f1114; color:#fff; border-radius:999px;
      padding:8px 12px; cursor:pointer; font-weight:600;
    }

    /* HERO protagonista */
    .hero{
      position:relative;
      overflow:hidden;
      color:#fff;
      padding: clamp(28px, 6vw, 80px) 24px;
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(255,145,0,.22), transparent 60%),
        radial-gradient(800px 400px at 0% 100%, rgba(255,97,0,.18), transparent 60%),
        #0b0b0c;
      /* Textura tecnol√≥gica con SVG */
      --grid:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'><g fill='none' stroke='rgba(255,255,255,0.06)' stroke-width='1'><path d='M0 30h60M30 0v60'/><circle cx='30' cy='30' r='12'/></g></svg>");
      background-image: var(--grid), radial-gradient(1200px 600px at 80% -10%, rgba(255,145,0,.22), transparent 60%), radial-gradient(800px 400px at 0% 100%, rgba(255,97,0,.18), transparent 60%), linear-gradient(#0b0b0c,#0b0b0c);
      background-size: auto, cover, cover, cover;
      background-blend-mode: overlay, normal, normal, normal;
    }
    .container{max-width:1120px;margin:0 auto}

    .hero-grid{
      display:grid; gap:24px; align-items:center;
      grid-template-columns: 1.1fr .9fr;
    }
    @media (max-width:880px){ .hero-grid{ grid-template-columns:1fr; text-align:center } }

    .title-wrap .kicker{
      display:inline-flex;align-items:center;gap:8px;
      padding:6px 10px;border-radius:999px;
      background: rgba(255,122,0,.1); border:1px solid rgba(255,122,0,.35);
      font-size:12px; letter-spacing:.2px;
    }
    .title-wrap h1{
      margin:12px 0 4px;
      font-size: clamp(28px, 4vw, 48px);
      font-weight:800;
      letter-spacing:.2px;
    }
    .title-wrap p{ margin:0; color:#e6eaf7; max-width:56ch }
    .micro{
      margin-top:8px; font-size:14px; color:#ffcf9e; opacity:.9; min-height:22px;
    }

    .cta-row{ display:flex; gap:12px; flex-wrap:wrap; margin-top:18px }
    .btn{
      appearance:none; border:0; cursor:pointer; text-decoration:none;
      display:inline-flex; align-items:center; gap:10px;
      padding:12px 18px; border-radius:12px; font-weight:700;
      color:#0b0b0c; background: var(--orange);
      box-shadow: 0 0 0 rgba(255,122,0,0);
      transition: transform .08s ease, box-shadow .2s ease, background .2s ease, filter .2s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: var(--orange-2);
      box-shadow: 0 0 24px rgba(255,122,0,.45);
      filter: saturate(110%);
    }
    .btn-ghost{
      background: transparent; color:#fff; border:1.6px solid rgba(255,255,255,.35);
    }
    .btn-ghost:hover{ border-color:#fff; background:rgba(255,255,255,.08) }

    /* Ilustraci√≥n protagonista (flotando) */
    .hero-figure{
      justify-self:center; position:relative;
      filter: drop-shadow(0 20px 40px rgba(255,122,0,.2));
      animation: float 6s ease-in-out infinite;
    }
    .hero-figure img{
      width:min(360px, 62vw); height:auto; border-radius:50%;
      background: radial-gradient(80% 80% at 50% 30%, rgba(255,170,80,.25), transparent 60%);
      border: 2px solid rgba(255,255,255,.08);
    }
    @keyframes float{
      0%,100%{ transform: translateY(0) }
      50%{ transform: translateY(-8px) }
    }

    /* Main */
    main{ padding:40px 24px; background:linear-gradient(#0b0b0c,#0e0f12) }
    .grid{ display:grid; gap:16px }
    @media (min-width:920px){ .grid{ grid-template-columns:1.2fr .8fr } }

    .card{
      background: var(--paper);
      border:1px solid var(--card-br);
      border-radius: var(--radius);
      padding:24px; box-shadow: var(--shadow);
      transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
    }
    .card:hover{
      transform: translateY(-2px);
      box-shadow: 0 14px 40px rgba(255,122,0,.12);
      border-color: rgba(255,122,0,.35);
      background: linear-gradient(180deg, rgba(255,122,0,.06), transparent 60%), var(--paper);
    }
    h2{ margin:0 0 12px; font-size: clamp(20px,2.4vw,28px); color:#ffd4a6 }
    ul{ margin:0; padding-left:18px }
    li{ margin:6px 0 }
    .note{
      margin-top:14px; padding:12px; border-left:4px solid var(--orange);
      background: rgba(255,122,0,.08); color:#ffd4a6; border-radius:8px;
    }

    /* Tips de Julia */
    .tips{ display:grid; gap:10px; margin-top:8px }
    .tip{ background: rgba(255,255,255,.04); border:1px dashed rgba(255,122,0,.4); padding:12px; border-radius:10px; color:#ffdcb8 }

    /* Footer */
    footer{
      padding:24px; color:#9aa3b2; text-align:center; border-top:1px solid var(--card-br);
      background: linear-gradient(180deg, #0e0f12, #0b0b0c);
    }
    .footer-links{ display:flex; gap:18px; justify-content:center; flex-wrap:wrap; margin-top:8px }
    .footer-links a{ color:#9aa3b2; text-decoration:none }
    .footer-links a:hover{ color:#ffb068 }

    /* Accesibilidad tipogr√°fica en m√≥vil */
    @media (max-width:480px){
      body{ font-size: 17px }
      .btn{ padding:14px 18px }
    }
  </style>
</head>

<body data-theme="dark">
  <!-- TOPBAR con logo CUN sutil + toggle de modo -->
  <div class="topbar">
    <div class="brand-mini">
      <img src="assets/apple-touch-icon.png" alt="CUN" class="logo-cun" />
      <strong>Corporaci√≥n Unificada Nacional</strong>
    </div>
    <button class="mode-toggle" id="modeToggle" aria-label="Cambiar tema">Modo claro/oscuro</button>
  </div>

  <!-- HERO protagonista -->
  <header class="hero">
    <div class="container hero-grid">
      <div class="title-wrap">
        <span class="kicker">üßì Julia ‚Äì Asistente de Pr√°cticas</span>
        <h1>Tu abuelita de pr√°cticas, lista pa‚Äô ayudarte</h1>
        <p>Resuelves tus dudas de <strong>SGP</strong>, <strong>ARL</strong>, <strong>documentos</strong>, seguimiento y cierre. Con humor, cari√±o‚Ä¶ y orden.</p>
        <div class="micro" id="microstate" aria-live="polite">üí¨ Julia est√° lista para conversar‚Ä¶</div>
        <div class="cta-row">
          <a class="btn" href="https://bienestaru.cun.edu.co/practicas/?utm_source=julia&utm_medium=hero_cta&utm_campaign=sgp" target="_blank" rel="noopener">Ir al SGP</a>
          <a class="btn btn-ghost" href="https://sites.google.com/cun.edu.co/practicascun/p%C3%A1gina-principal?utm_source=julia&utm_medium=hero_cta&utm_campaign=portal" target="_blank" rel="noopener">Portal de pr√°cticas</a>
          <button class="btn btn-ghost" id="btnChat">Hablar con Julia</button>
        </div>
      </div>

      <figure class="hero-figure">
        <!-- Reutilizo tu icono 512 como avatar circular -->
        <img src="assets/web-app-manifest-512x512.png" alt="Julia, abuelita digital" />
      </figure>
    </div>
  </header>

  <!-- CONTENIDO -->
  <main class="container grid" aria-label="Contenido principal">
    <section class="card">
      <h2>¬øQu√© puedes preguntarle?</h2>
      <ul>
        <li>¬øC√≥mo registro mi pr√°ctica en el SGP?</li>
        <li>¬øQu√© documentos necesito seg√∫n mi modalidad?</li>
        <li>¬øCu√°ndo debo subir la carta de finalizaci√≥n?</li>
        <li>¬øQu√© pasa si la empresa no tiene convenio?</li>
      </ul>
      <div class="note">Consejo: ten a la mano tu correo institucional; lo vas a necesitar para acceder a formatos y al SGP.</div>
    </section>

    <aside class="card" aria-label="Accesos">
      <h2>Accesos √∫tiles</h2>
      <ul>
        <li><a href="https://bienestaru.cun.edu.co/practicas/?utm_source=julia&utm_medium=sidebar_link&utm_campaign=sgp" target="_blank" rel="noopener">Ingreso a SGP</a></li>
        <li><a href="https://sites.google.com/cun.edu.co/practicascun/p%C3%A1gina-principal?utm_source=julia&utm_medium=sidebar_link&utm_campaign=portal" target="_blank" rel="noopener">Portal de pr√°cticas (Google Sites)</a></li>
      </ul>
    </aside>

    <!-- TIPS DE JULIA (din√°micos) -->
    <section class="card" style="grid-column:1/-1" aria-label="Tips de Julia">
      <h2>Tips de Julia</h2>
      <div class="tips" id="tipsList">
        <!-- Se llenan por JS -->
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div>¬© 2025 CUN ‚Äì Coordinaci√≥n de Pr√°cticas</div>
    <nav class="footer-links" aria-label="Enlaces de pie de p√°gina">
      <a href="https://www.cun.edu.co/" target="_blank" rel="noopener">Sitio CUN</a>
      <a href="https://bienestaru.cun.edu.co/practicas/" target="_blank" rel="noopener">SGP</a>
      <a href="https://sites.google.com/cun.edu.co/practicascun/p%C3%A1gina-principal" target="_blank" rel="noopener">Portal de pr√°cticas</a>
    </nav>
  </footer>

  <!-- CHATBASE -->
  <script>
  (function(){
    if(!window.chatbase || window.chatbase("getState")!=="initialized"){
      window.chatbase=(...a)=>{(window.chatbase.q??=[]).push(a)};
      window.chatbase=new Proxy(window.chatbase,{get(t,p){if(p==="q"){return t.q}return(...a)=>t(p,...a)}});
    }
    const onLoad=function(){
      const s=document.createElement("script");
      s.src="https://www.chatbase.co/embed.min.js";
      s.id="sLDgiXlWpHYwWJV6DdWvp";  // tu ID
      s.domain="www.chatbase.co";
      document.body.appendChild(s);
    };
    if(document.readyState==="complete"){onLoad()} else {window.addEventListener("load",onLoad)}
  })();
  </script>

  <!-- ABRIR CHAT (sin duplicar burbujas) -->
  <script>
    (function () {
      const openChat = () => {
        try {
          if (window.chatbase && typeof window.chatbase === 'function') {
            try { window.chatbase('open'); return; } catch(e){}
            try { window.chatbase('toggle'); return; } catch(e){}
          }
        } catch (e) {}
        const clickBubble = () => {
          const b = document.querySelector('[class*="Chatbase"] button, .chatbase-bubble, [aria-label*="chat"], [class*="bubble"]');
          if (b) b.click();
        };
        clickBubble();
        setTimeout(clickBubble, 600);
      };
      document.getElementById('btnChat')?.addEventListener('click', openChat);
    })();
  </script>

  <!-- MICRO-ESTADO, TIPS, Y MODO OSCURO -->
  <script>
    // Micro-estado din√°mico
    (function(){
      const el = document.getElementById('microstate');
      const msgs = [
        "üí¨ Julia est√° lista para conversar‚Ä¶",
        "‚òï Ya serv√≠ el tintico, ¬øpreguntamos?",
        "üßæ Tengo los formatos a la mano‚Ä¶",
        "üïí No dejes todo pa‚Äô √∫ltima hora, mijito."
      ];
      let i=0;
      setInterval(()=>{ i=(i+1)%msgs.length; el.textContent = msgs[i]; }, 4200);
    })();

    // Tips locales (editable)
    (function(){
      const tips = [
        "Revisa primero los lineamientos del programa y evita correcciones a √∫ltima hora.",
        "Guarda todo en tu Drive institucional con nombres claros: 'ARL_Nombre_Apellido.pdf'.",
        "Si la empresa no tiene convenio, pregunta por los pasos de vinculaci√≥n antes de empezar.",
        "El registro en SGP debe hacerse antes de subir documentos; as√≠ evitas rechazos.",
        "Para validar experiencia laboral, confirma que tu rol actual s√≠ coincide con tu plan de mejoramiento."
      ];
      const list = document.getElementById('tipsList');
      // Muestra 3 al azar sin repetir
      const shuffled = tips.sort(()=>Math.random()-.5).slice(0,3);
      shuffled.forEach(t=>{
        const d=document.createElement('div');
        d.className='tip';
        d.textContent='üí° '+t;
        list.appendChild(d);
      });
    })();

    // Modo claro/oscuro
    (function(){
      const k='julia-theme';
      const root=document.documentElement;
      const btn=document.getElementById('modeToggle');
      const saved=localStorage.getItem(k);
      if(saved){ root.setAttribute('data-theme', saved); }
      btn.addEventListener('click', ()=>{
        const curr=root.getAttribute('data-theme')==='dark'?'light':'dark';
        root.setAttribute('data-theme', curr);
        localStorage.setItem(k, curr);
      });
    })();
  </script>

  <!-- SW opcional -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js');
      });
    }
  </script>
</body>
</html>
