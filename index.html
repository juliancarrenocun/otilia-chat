<!doctype html>
<html lang="es" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Do√±a Otilia ‚Äì Asistente de Pr√°cticas CUN</title>

  <!-- =================== METADATA B√ÅSICA =================== -->
  <meta name="description" content="Tu gu√≠a para resolver dudas sobre SGP, ARL, documentos y seguimiento de pr√°cticas en la CUN." />
  <meta name="theme-color" content="#3B81F6" />

  <!-- =================== OPEN GRAPH (PREVISUALIZACI√ìN) =================== -->
  <meta property="og:title" content="Do√±a Otilia ‚Äì Asistente de Pr√°cticas CUN" />
  <meta property="og:description" content="Resuelve tus dudas de pr√°cticas: SGP, ARL, documentos, seguimiento y cierre." />
  <meta property="og:image" content="assets/otilia-512.png?v=2025-10-09" />
  <meta property="og:type" content="website" />

  <!-- =================== PERFORMANCE (CHATBASE) =================== -->
  <link rel="preconnect" href="https://www.chatbase.co" crossorigin>

  <!-- =================== ICONOS & PWA =================== -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32.png?v=2025-10-09" />
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png?v=2025-10-09" />
  <link rel="manifest" href="manifest.webmanifest?v=2025-10-09" />

  <!-- =================== ESTILOS BASE (MISMOS COLORES) =================== -->
  <style>
    :root{
      --cun-blue:#3B81F6;         /* primario del chat */
      --cun-green:#47A447;        /* acento institucional CUN */
      --bg:#0B1426;               /* fondo header (oscuro limpio) */
      --text:#0F172A;             /* texto principal */
      --muted:#556070;            /* texto secundario */
      --radius:16px;
      --shadow:0 8px 30px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0}
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color:var(--text);
      background:#fff;
      line-height:1.5;
      -webkit-font-smoothing:antialiased;
      text-rendering:optimizeLegibility;
    }

    /* =================== HEADER / HERO =================== */
    .hero{
      background: radial-gradient(1200px 500px at 70% -10%, rgba(71,164,71,.18), transparent 60%), var(--bg);
      color:#fff;
      padding: clamp(32px, 5vw, 64px) 24px;
      position:relative;
      overflow:hidden;
    }
    .container{max-width:1080px;margin:0 auto}
    .brand{display:flex;align-items:center;gap:16px}
    .brand img{width:72px;height:72px;border-radius:50%;box-shadow:var(--shadow);transition:transform .2s ease;}
    .brand img:hover{transform:scale(1.05)}
    .tag{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.1);backdrop-filter:saturate(140%);font-size:12px}
    .hero h1{margin:14px 0 8px;font-size:clamp(26px,3.4vw,38px)}
    .hero p{margin:0;color:#E6ECFF;max-width:64ch}
    .cta-row{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
    .btn{
      appearance:none;border:0;cursor:pointer;text-decoration:none;
      display:inline-flex;align-items:center;gap:10px;
      padding:12px 18px;border-radius:10px;font-weight:600;
      box-shadow:var(--shadow);transition:transform .06s ease,filter .2s ease;
    }
    .btn:hover{transform:translateY(-1px);filter:saturate(110%)}
    .btn:active{transform:translateY(0)}
    .btn-primary{background:var(--cun-blue);color:#fff}
    .btn-ghost{background:#fff;color:var(--text)}
    .btn-secondary{
      background:transparent;
      color:#E6ECFF;
      border:1.6px solid rgba(255,255,255,.35);
    }
    .btn-secondary:hover{
      border-color:#fff;
      background:rgba(255,255,255,.08);
    }

    /* =================== MAIN / TARJETAS =================== */
    main{padding:40px 24px}
    .card{
      border:1px solid #E6E9F2;border-radius:var(--radius);box-shadow:var(--shadow);
      padding:24px;background:#fff;
    }
    .grid{display:grid;gap:16px}
    @media (min-width:860px){.grid{grid-template-columns:1.2fr .8fr}}
    h2{margin:0 0 12px;font-size:clamp(20px,2.4vw,28px)}
    ul{margin:0;padding-left:18px}
    li{margin:6px 0}
    .note{
      margin-top:14px;padding:12px;border-left:4px solid var(--cun-green);
      background:#F4FBF6;color:#1E3A1E;border-radius:8px;
    }

    /* =================== FOOTER =================== */
    footer{padding:24px;color:var(--muted);text-align:center;border-top:1px solid #EEF2F7}
    .footer-links{display:flex;gap:18px;justify-content:center;flex-wrap:wrap;margin-top:8px}
    .footer-links a{color:var(--muted);text-decoration:none}
    .footer-links a:hover{color:var(--cun-blue)}

    /* =================== WIDGET AUDIO (SALUDO) =================== */
    .otilia-audio {
      position: fixed; left: 18px; bottom: 96px; z-index: 9999;
      width: min(420px, 92vw);
      display: grid; gap: 10px;
      background: #0B1426; color: #fff; border-radius: 14px;
      padding: 12px 14px; box-shadow: 0 8px 30px rgba(2,6,23,.18);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue";
    }
    .otilia-audio .row { display:flex; align-items:center; gap:10px; }
    .otilia-audio .title { font-weight:700 }
    .otilia-audio button {
      border: 0; border-radius: 10px; padding: 8px 12px;
      cursor: pointer; font-weight: 600; background: #3B81F6; color: #fff;
    }
    .otilia-audio button.secondary {
      background:#fff; color:#0F172A; border:1px solid #E6E9F2;
    }
    .otilia-audio button:hover { filter: brightness(1.1); }
    .otilia-audio .time { font-variant-numeric: tabular-nums; font-size:12px; opacity:.9 }
    .otilia-audio input[type="range"]{
      -webkit-appearance:none; appearance:none; width:100%;
      height:6px; border-radius:999px; background:#fff2; outline:none;
    }
    .otilia-audio input[type="range"]::-webkit-slider-thumb{
      -webkit-appearance:none; appearance:none;
      width:14px; height:14px; background:#3B81F6; border-radius:50%; border:2px solid #fff; cursor:pointer;
      box-shadow: 0 0 0 2px rgba(59,129,246,.2);
    }
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>

<body>
  <!-- =================== HERO =================== -->
  <header class="hero">
    <div class="container">
      <div class="brand">
        <img src="assets/otilia-512.png" alt="√çcono Do√±a Otilia" />
        <div>
          <div class="tag">üó®Ô∏è Asistente de Pr√°cticas CUN</div>
          <h1>Do√±a Otilia ‚Äì tu gu√≠a para las pr√°cticas</h1>
          <p>Resuelve dudas sobre <strong>SGP</strong>, <strong>ARL</strong>, <strong>documentaci√≥n</strong>, seguimiento y cierre de pr√°cticas.</p>
          <div class="cta-row">
            <a class="btn btn-primary" href="https://bienestaru.cun.edu.co/practicas/?utm_source=otilia&utm_medium=hero_cta&utm_campaign=sgp" target="_blank" rel="noopener">Ir al SGP</a>
            <a class="btn btn-ghost" href="https://sites.google.com/cun.edu.co/practicascun/p%C3%A1gina-principal?utm_source=otilia&utm_medium=hero_cta&utm_campaign=portal" target="_blank" rel="noopener">Portal de pr√°cticas</a>
            <button class="btn btn-secondary" type="button" id="btnChat">Hablar con Otilia</button>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- =================== CONTENIDO PRINCIPAL =================== -->
  <main class="container grid" aria-label="Contenido principal">
    <section class="card">
      <h2>¬øQu√© puedes preguntarle?</h2>
      <ul>
        <li>¬øC√≥mo registro mi pr√°ctica en el SGP?</li>
        <li>¬øQu√© documentos necesito seg√∫n mi modalidad?</li>
        <li>¬øCu√°ndo debo subir la carta de finalizaci√≥n?</li>
        <li>¬øQu√© pasa si la empresa no tiene convenio?</li>
      </ul>
      <div class="note">Consejo: ten a la mano tu correo institucional; lo vas a necesitar para acceder a formatos y al SGP.</div>
    </section>

    <aside class="card" aria-label="Atajos">
      <h2>Accesos √∫tiles</h2>
      <ul>
        <li><a href="https://bienestaru.cun.edu.co/practicas/?utm_source=otilia&utm_medium=sidebar_link&utm_campaign=sgp" target="_blank" rel="noopener">Ingreso a SGP</a></li>
        <li><a href="https://sites.google.com/cun.edu.co/practicascun/p%C3%A1gina-principal?utm_source=otilia&utm_medium=sidebar_link&utm_campaign=portal" target="_blank" rel="noopener">Portal de pr√°cticas (Google Sites)</a></li>
      </ul>
    </aside>
  </main>

  <!-- =================== FOOTER =================== -->
  <footer>
    <div>¬© 2025 CUN ‚Äì Coordinaci√≥n de Pr√°cticas</div>
    <nav class="footer-links" aria-label="Enlaces de pie de p√°gina">
      <a href="https://www.cun.edu.co/" target="_blank" rel="noopener">Sitio CUN</a>
      <a href="https://bienestaru.cun.edu.co/practicas/" target="_blank" rel="noopener">SGP</a>
      <a href="https://sites.google.com/cun.edu.co/practicascun/p%C3%A1gina-principal" target="_blank" rel="noopener">Portal de pr√°cticas</a>
    </nav>
  </footer>

  <!-- =================== CHATBASE (SNIPPET OFICIAL) =================== -->
  <script>
  (function(){
    if(!window.chatbase || window.chatbase("getState")!=="initialized"){
      window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};
      window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}});
    }
    const onLoad=function(){
      const script=document.createElement("script");
      script.src="https://www.chatbase.co/embed.min.js";
      script.id="sLDgiXlWpHYwWJV6DdWvp";   /* <- tu ID de embed */
      script.domain="www.chatbase.co";
      document.body.appendChild(script);
    };
    if(document.readyState==="complete"){onLoad()}
    else{window.addEventListener("load",onLoad)}
  })();
  </script>

  <!-- =================== BOT√ìN QUE ABRE EL CHAT =================== -->
  <script>
    (function () {
      const openChat = () => {
        try {
          if (window.chatbase && typeof window.chatbase === 'function') {
            try { window.chatbase('open'); return; } catch(e){}
            try { window.chatbase('toggle'); return; } catch(e){}
          }
        } catch (e) {}
        // Fallback: intenta clicar la burbuja del widget
        const clickBubble = () => {
          const bubble = document.querySelector('[class*="Chatbase"] button, .chatbase-bubble, [aria-label*="chat"], [class*="bubble"]');
          if (bubble) bubble.click();
        };
        clickBubble();
        setTimeout(clickBubble, 600);
      };
      const btn = document.getElementById('btnChat');
      if (btn) btn.addEventListener('click', openChat);
    })();
  </script>

  <!-- =================== SERVICE WORKER (PWA Y CACH√â) =================== -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js?v=2025-10-09');
      });
    }
  </script>

  <!-- =================== WIDGET: AUDIO SALUDO DE DO√ëA OTILIA =================== -->
  <!-- Reproduce un MP3 local, con Play / Pausa / Stop y barra de progreso con tiempos -->
  <div class="otilia-audio" role="region" aria-label="Reproductor saludo de Do√±a Otilia">
    <div class="row">
      <span aria-hidden="true">üéôÔ∏è</span>
      <div class="title">Saludo de Do√±a Otilia</div>
      <span id="oa-state" class="time" style="margin-left:auto">Listo</span>
    </div>

    <!-- Controles principales -->
    <div class="row" aria-label="Controles de reproducci√≥n">
      <button id="oa-play" type="button" aria-label="Reproducir">‚ñ∂Ô∏è Play</button>
      <button id="oa-pause" type="button" class="secondary" aria-label="Pausar">‚è∏Ô∏è Pausa</button>
      <button id="oa-stop" type="button" class="secondary" aria-label="Detener">‚èπÔ∏è Stop</button>
    </div>

    <!-- Barra de progreso + tiempos -->
    <label for="oa-seek" class="sr-only">Barra de progreso</label>
    <input id="oa-seek" type="range" min="0" max="100" step="0.1" value="0" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Posici√≥n del audio">
    <div class="row" aria-hidden="true">
      <div class="time" id="oa-current">0:00</div>
      <div class="time" id="oa-duration" style="margin-left:auto">0:00</div>
    </div>
  </div>

  <script>
    // ===== Reproductor de audio con progreso, tiempos y control de seek =====
    (function(){
      // Ruta de tu MP3 (aseg√∫rate que exista): /assets/audio/bienvenida-otilia.mp3
      const AUDIO_SRC = 'assets/audio/bienvenida-otilia.mp3';

      const audio = new Audio(AUDIO_SRC);
      audio.preload = 'metadata';

      // Elementos UI
      const $play = document.getElementById('oa-play');
      const $pause = document.getElementById('oa-pause');
      const $stop = document.getElementById('oa-stop');
      const $state = document.getElementById('oa-state');
      const $seek = document.getElementById('oa-seek');
      const $cur = document.getElementById('oa-current');
      const $dur = document.getElementById('oa-duration');

      // Formatea segundos a mm:ss
      const fmt = (secs) => {
        if (isNaN(secs) || !isFinite(secs)) return '0:00';
        const m = Math.floor(secs / 60);
        const s = Math.floor(secs % 60).toString().padStart(2,'0');
        return `${m}:${s}`;
      };

      // Estados visibles
      const setState = (txt) => { $state.textContent = txt; };

      // Listeners de metadata / duraci√≥n
      audio.addEventListener('loadedmetadata', () => {
        $dur.textContent = fmt(audio.duration);
      });

      // Actualiza progreso mientras suena
      audio.addEventListener('timeupdate', () => {
        const pct = (audio.currentTime / (audio.duration || 1)) * 100;
        $seek.value = pct.toFixed(1);
        $seek.setAttribute('aria-valuenow', $seek.value);
        $cur.textContent = fmt(audio.currentTime);
      });

      // Fin del audio
      audio.addEventListener('ended', () => {
        setState('Listo');
        $seek.value = 0;
        $cur.textContent = '0:00';
      });

      // Controles
      $play.addEventListener('click', () => {
        audio.play().then(()=> setState('Reproduciendo‚Ä¶')).catch(()=> setState('Error'));
      });
      $pause.addEventListener('click', () => {
        audio.pause();
        setState('Pausado');
      });
      $stop.addEventListener('click', () => {
        audio.pause();
        audio.currentTime = 0;
        setState('Listo');
      });

      // Seek manual
      let seeking = false;
      $seek.addEventListener('input', () => {
        seeking = true;
        const pct = parseFloat($seek.value) / 100;
        audio.currentTime = pct * (audio.duration || 0);
        $cur.textContent = fmt(audio.currentTime);
      });
      $seek.addEventListener('change', () => { seeking = false; });

    })();
  </script>
</body>
</html>
